webpackJsonp([22],{fNrS:function(t,e){},k3Ek:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=s("3cXf"),o=s.n(a),i=s("Cz8s"),c=s("L/O1"),r=s("SBgR"),n={components:{headerBar:i.a},data:function(){return{codename:this.$route.query.name,message:"",show1:!1,password:"",padtxt:this.$t("code.rupassword"),num:0,headerNavData:{left:!0,title:this.$t("mycenter.wallet"),right:!0,bj:"rgba(255,255,255,0)",search:!1,share:!1,save:!0},phone:""}},created:function(){this.message=this.$route.query.publickey,this.headerNavData.title=this.$route.query.name,this.checkbindphone()},mounted:function(){this.DrawRandomPic(Object(c.a)("publickey").substring(2,42),"drawing")},methods:{bindphone:function(){this.$router.push({path:"/bindphone",query:{publickey:this.message,phone:this.phone}})},gopswod:function(){this.$router.push({path:"/password",query:{publickey:this.message}})},skey:function(t){this.show1=!0,this.num=t},gowritezjc:function(){var t=this;t.show1=!1,1==this.num?t.openloading(t.$t("data.Generatingprivatekey")):2==this.num&&t.openloading(t.$t("data.GeneratingKeyStore"));for(var e,s=this.password,a=this.$route.query.publickey,o=JSON.parse(Object(c.a)("codelist")),i=0;i<o.length;i++)a==o[i].publickey&&(e=o[i].keystore);setTimeout(function(){Object(r.g)(e,s,function(s){"err"==s?(t.closeloading(),t.padtxt=t.$t("data.Passworderror"),setTimeout(function(){t.show1=!0},500)):(t.closeloading(),1==t.num?t.$router.push({path:"/keystore",query:{key:s,type:1}}):2==t.num&&t.$router.push({path:"/keystore",query:{key:e,type:2}}))})},200)},save:function(){var t=this,e=this.codename,s=this.$route.query.publickey;if(""!=e){for(var a=JSON.parse(Object(c.a)("codelist")),i=0;i<a.length;i++)if(s==a[i].publickey){t.requirewallet(s,e),a[i].name=e;var r=o()(a);Object(c.c)("codelist",r),setTimeout(function(){t.$router.push({path:"/"})},300)}}else this.Toast(this.$t("toast.codename"))},requirewallet:function(t,e){this.axios({url:this.Url+"wallet.ashx",method:"post",params:{req:9,publicKey:t,nick:e}}).then(function(t){})},openConfrim:function(){var t=this;this.$dialog.confirm({title:"更新提示",mes:"系统已更新，请先 [备份] 钱包再卸载，重新安装",opts:function(e){for(var s=0;s<data.length;s++)if(publickey==data[s].publickey){if(data.splice(s,1),t.Toast(t.$t("toast.codedel")),0==data.length)Object(c.c)("publickey",""),Object(c.c)("info",""),Object(c.c)("codelist",a),Object(c.c)("Currency_list",""),that.$router.push({path:"/createcode",query:{del:1}});else if(Object(c.a)("publickey")==publickey){Object(c.c)("publickey",data[0].publickey);var a=o()(data);Object(c.c)("codelist",a),Object(c.c)("Currency_list",""),that.$router.push({path:"/codelist",query:{del:1}})}else{a=o()(data);Object(c.c)("codelist",a),Object(c.c)("Currency_list",""),that.$router.push({path:"/codelist",query:{del:1}})}break}}})},delcode:function(){var t=this,e=this,s=this.$route.query.publickey,a=JSON.parse(Object(c.a)("codelist"));this.$dialog.confirm({title:e.$t("data.deletewallet"),mes:e.$t("data.walletbeforedeleting"),opts:function(i){for(var r=0;r<a.length;r++)s==a[r].publickey&&(a.splice(r,1),t.Toast(t.$t("toast.codedel")),setTimeout(function(){if(0==a.length)Object(c.c)("publickey",""),Object(c.c)("info",""),Object(c.c)("codelist",t),Object(c.c)("Currency_list",""),e.$router.push({path:"/createcode",query:{del:1}});else if(Object(c.a)("publickey")==s){Object(c.c)("publickey",a[0].publickey);var t=o()(a);Object(c.c)("codelist",t),Object(c.c)("Currency_list",""),e.$router.push({path:"/codelist",query:{del:1}})}else{t=o()(a);Object(c.c)("codelist",t),Object(c.c)("Currency_list",""),e.$router.push({path:"/codelist",query:{del:1}})}},1e3))}})},checkbindphone:function(){var t=this;this.axios({url:this.Url+"Wallet.ashx",method:"post",params:{req:7,pks:this.$route.query.publickey}}).then(function(e){e.data.data&&(t.phone=e.data.data)})}}},l={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"code"},[s("headerBar",{attrs:{title:t.headerNavData},on:{save:function(e){t.save()}}}),t._v(" "),s("div",{staticClass:"code_top"},[s("canvas",{staticStyle:{"border-radius":"50%"},style:{width:"1rem",height:"1rem"},attrs:{id:"drawing"}}),t._v(" "),s("p",[t._v(t._s(t.message))])]),t._v(" "),s("yd-cell-group",[s("yd-cell-item",[s("span",{attrs:{slot:"left"},slot:"left"},[t._v(t._s(t.$t("code.name"))+"：")]),t._v(" "),s("yd-input",{attrs:{slot:"right",type:"text",max:"10",placeholder:t.$t("placeholder.codename")},slot:"right",model:{value:t.codename,callback:function(e){t.codename=e},expression:"codename"}})],1),t._v(" "),s("div",{staticClass:"bj"}),t._v(" "),s("yd-cell-item",{attrs:{arrow:"",type:"label"},nativeOn:{click:function(e){t.bindphone()}}},[s("span",{attrs:{slot:"left"},slot:"left"},[t._v(t._s(t.$t("code.bindphone")))]),t._v(" "),s("span",{attrs:{slot:"right"},slot:"right"},[t._v(t._s(t.phone))])]),t._v(" "),s("yd-cell-item",{attrs:{arrow:"",type:"label"},nativeOn:{click:function(e){t.skey(1)}}},[s("span",{attrs:{slot:"left"},slot:"left"},[t._v(t._s(t.$t("code.key")))])]),t._v(" "),s("yd-cell-item",{attrs:{arrow:"",type:"label"},nativeOn:{click:function(e){t.skey(2)}}},[s("span",{attrs:{slot:"left"},slot:"left"},[t._v(t._s(t.$t("code.keystore")))])])],1),t._v(" "),s("yd-popup",{attrs:{position:"center",width:"90%"},model:{value:t.show1,callback:function(e){t.show1=e},expression:"show1"}},[s("div",{staticClass:"dig"},[s("p",{staticClass:"ttl"},[t._v("\n                "+t._s(t.padtxt)+"\n            ")]),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],attrs:{type:"password"},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}}),t._v(" "),s("p",{staticClass:"dig_bt"},[s("yd-button",{nativeOn:{click:function(e){t.show1=!1}}},[t._v(t._s(t.$t("code.cancel")))]),t._v(" "),s("yd-button",{nativeOn:{click:function(e){t.gowritezjc()}}},[t._v(t._s(t.$t("code.ok")))])],1)])]),t._v(" "),s("button",{staticClass:"delcode",attrs:{type:"button"},on:{click:function(e){t.delcode()}}},[t._v(t._s(t.$t("code.delcode")))])],1)},staticRenderFns:[]};var u=s("vSla")(n,l,!1,function(t){s("fNrS")},"data-v-b6202cee",null);e.default=u.exports}});
//# sourceMappingURL=22.60ba90f244daa7a95000.js.map